(this["webpackJsonpweather-app-redux"]=this["webpackJsonpweather-app-redux"]||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(2),u=a(9),i=a.n(u),d=a(12);function m(e){return{type:"FETCH_TOWN_SUCCESS",payload:{data:e}}}var s=function(){var e=Object(d.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_TOWN_REQUEST"}),e.prev=1,e.next=4,fetch("".concat("//api.openweathermap.org/data/2.5/weather?appid=c9744564742f73ddda7ea74738df772a&units=metric&lang=ru&q=").concat(a));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:return e.next=9,n.json();case 9:r=e.sent,t(m(r)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t({type:"FETCH_TOWN_FAILURE",payload:{error:e.t0.message}});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}();function E(){var e=Object(o.c)((function(e){return e.chooseTown})),t=e.item,a=e.loading,n=e.error,l=Object(o.b)();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(l,t.town)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",name:"town",required:!0,value:t.town,onChange:function(e){var t=e.target,a=t.name,n=t.value;l(function(e,t){return{type:"CHANGE_TOWN_FIELD",payload:{name:e,value:t}}}(a,n))}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a},"\u0414\u0430\u0439 \u043f\u043e\u0433\u043e\u0434\u0443"),r.a.createElement("div",null,n))}function p(){var e,t,a,n=Object(o.c)((function(e){return e.weather})),l=n.data,c=n.loading,u=n.error,i=n.isActive,d=l.name,m=l.main,s=l.weather,E=l.wind,p=l.clouds,v=null===l||void 0===l||null===(e=l.weather)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.icon;return c?r.a.createElement("div",{className:"spinner-border text-danger mt-3",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):u?r.a.createElement("div",{className:"alert alert-danger mt-3",role:"alert"},"\u041f\u043e\u0433\u043e\u0434\u044b \u043d\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"):i?r.a.createElement("div",{className:"weather mt-3"},r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0413\u043e\u0440\u043e\u0434"),r.a.createElement("th",null,d))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 (\u0421)"),r.a.createElement("td",null,null===m||void 0===m?void 0:m.temp)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a (\u0421)"),r.a.createElement("td",null,null===m||void 0===m?void 0:m.feels_like)),r.a.createElement("tr",null,r.a.createElement("td",null,null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.description),r.a.createElement("td",null,r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(v,".png"),alt:"icon",style:{width:"35px"}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0412\u0435\u0442\u0435\u0440 (\u043c/\u0441)"),r.a.createElement("td",null,null===E||void 0===E?void 0:E.speed)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c (%)"),r.a.createElement("td",null,null===p||void 0===p?void 0:p.all))))):null}function v(){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement(E,null),r.a.createElement(p,null))}var _=a(3),b=a(5),h=a(1),O={item:{town:""},loading:!1,error:null};var w={data:{},loading:!1,error:null,isActive:!1};var T=Object(_.b)({chooseTown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TOWN_FIELD":var a=t.payload,n=a.name,r=a.value;return Object(h.a)({},e,{item:Object(h.a)({},e.item,Object(b.a)({},n,r))});case"FETCH_TOWN_REQUEST":return Object(h.a)({},e,{loading:!0,error:null});case"FETCH_TOWN_SUCCESS":return Object(h.a)({},O);case"FETCH_TOWN_FAILURE":var l=t.payload.error;return Object(h.a)({},e,{loading:!1,error:l});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TOWN_REQUEST":return Object(h.a)({},e,{loading:!0,error:null});case"FETCH_TOWN_SUCCESS":var a=t.payload.data;return Object(h.a)({},e,{data:a,loading:!1,error:null,isActive:!0});case"FETCH_TOWN_FAILURE":var n=t.payload.error;return Object(h.a)({},e,{loading:!1,error:n});default:return e}}}),f=Object(_.c)(T,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(o.a,{store:f},r.a.createElement(v,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5cd1ad83.chunk.js.map